<mat-divider></mat-divider>
<br>

<div fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="2px" class="stats-cards" >
  <div fxFlex="100">
    <div class="mat-elevation-z8">
      <!--div>
        <mat-form-field *ngFor="let filter of filterSelectObj" style="margin-left: 15px;">
          <mat-label>Filter {{filter.name}}</mat-label>
          <select matNativeControl name="{{filter.columnProp}}" [(ngModel)]="filter.modelValue"
            (change)="filterChange(filter,$event)">
            <option value="">-- Select {{filter.name}} --</option>
            <option [value]="item" *ngFor="let item of filter.options">{{item}}</option>
          </select>
        </mat-form-field>
        &nbsp;
        <button mat-flat-button color="warn" (click)="resetFilters()">Reset</button>
      </div-->

      <div fxLayout fxLayoutAlign="center center">
        <mat-form-field fxFlex="40%">
          <input matInput type="text" (keyup)="doFilter($event.target.value)" placeholder="Filter">
        </mat-form-field>
      </div>
      <div class="col m12 s12 mat-elevation-z8" style="margin-top:-10px;border-radius:4px; background: linear-gradient(60deg,#6d6fc0,#50649c); padding:5px">
        <h2 class="white-text"> Fleet Ships </h2>

      </div>

      <table mat-table [dataSource]="shipDataSource" multiTemplateDataRows matSort class="mat-elevation-z8">
        <ng-container matColumnDef="shipId">
          <th mat-header-cell *matHeaderCellDef class="table-head-fix" mat-sort-header> Ship ID </th>
          <td mat-cell *matCellDef="let element">  {{element.id}} </td>
        </ng-container>
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef class="table-head-fix" mat-sort-header> Ship Name</th>
          <td mat-cell *matCellDef="let element"> {{element.name}} </td>
        </ng-container>
        <ng-container matColumnDef="position">
          <th mat-header-cell *matHeaderCellDef class="table-head-fix"> Geo Position </th>
          <td mat-cell *matCellDef="let element"> {{element.position}} </td>
        </ng-container>

        <ng-container matColumnDef="maxCapacity">
          <th mat-header-cell *matHeaderCellDef class="table-head-fix"> Maximum Capacity </th>
          <td mat-cell *matCellDef="let element">{{element.maxCapacity}}</td>
        </ng-container>


        <ng-container matColumnDef="freeCapacity">
          <th mat-header-cell *matHeaderCellDef class="table-head-fix" mat-sort-header> Free Capacity </th>
          <td mat-cell *matCellDef="let element"> {{element.freeCapacity}} </td>
        </ng-container>
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef class="table-head-fix" mat-sort-header> Status</th>
          <td mat-cell *matCellDef="let element"> {{element.status}} </td>
        </ng-container>

<!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
<ng-container matColumnDef="expandedDetail">
  <td mat-cell *matCellDef="let element" [attr.colspan]="shipTableColumns.length">
    <div class="example-element-detail"
         [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
         <mat-card fxFlex="10" [style.backgroundColor]="'#c5c4db'">

          <mat-card-content style="text-align: center;justify-content: center">
            New York
      </mat-card-content>
    </mat-card>
         <mat-card fxFlex="70">

            <mat-card-content>
              <mat-progress-bar [value]="progressbarValue"></mat-progress-bar>
              <!--mat-horizontal-stepper>
                <mat-step label="Step 1" state="phone">
                  <p>Put down your phones.</p>
                  <div>
                    <button mat-button matStepperNext>Next</button>
                  </div>
                </mat-step>
                <mat-step label="Step 2" state="chat">
                  <p>Socialize with each other.</p>
                  <div>
                    <button mat-button matStepperPrevious>Back</button>
                    <button mat-button matStepperNext>Next</button>
                  </div>
                </mat-step>
                <mat-step label="Step 3">
                  <p>You're welcome.</p>
                </mat-step>


                <ng-template matStepperIcon="phone">
                  <mat-icon>call_end</mat-icon>
                </ng-template>
                <ng-template matStepperIcon="chat">
                  <mat-icon>forum</mat-icon>
                </ng-template>
              </mat-horizontal-stepper -->
        </mat-card-content>
      </mat-card>
      <mat-card fxFlex="10"[style.backgroundColor]="'#c5c4db'" >

        <mat-card-content style="text-align: center;align-items: center;display:inline-block; ">
          London
    </mat-card-content>
  </mat-card>
  <mat-card fxFlex="10">

    <mat-card-content>
      <button mat-button color="primary"  (click)="moveShip($event)" OnClickStopPropagation="true">Move Ship</button>
      <button mat-button color="primary"  (click)="resetShipPosition($event)" >Reset</button>
</mat-card-content>
</mat-card>
    </div>
  </td>
</ng-container>
        <tr mat-header-row *matHeaderRowDef="shipTableColumns"></tr>
        <tr mat-row *matRowDef="let element; columns: shipTableColumns;"
        class="example-element-row"
      [class.example-expanded-row]="expandedElement === element"
      (click)="expandedElement = expandedElement === element ? null : element"

        ></tr>
        <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
      </table>
      <mat-paginator [pageSizeOptions]="[ 10, 15, 20]"></mat-paginator>
    </div>
  </div>
</div>
